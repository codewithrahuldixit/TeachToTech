<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>Team - TeachToTech</title>
	<meta name="description" content="">
	<meta name="keywords" content="">

	<!-- Favicons -->
	<link href="assets/img/TT.png" rel="icon">
	<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

	<!-- Fonts -->
	<link href="https://fonts.googleapis.com" rel="preconnect">
	<link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
	<link
		href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;1,300;1,400;1,500;1,600;1,700;1,800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
		rel="stylesheet">

	<!-- Vendor CSS Files -->
	<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
	<link href="assets/vendor/aos/aos.css" rel="stylesheet">
	<link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
	<link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

	<!-- Main CSS File -->
	<link href="assets/css/main.css" rel="stylesheet">
	<style>
		.admin-buttons {
			display: flex;
			justify-content: center;
			/* Center buttons horizontally */
			gap: 10px;
			/* Space between buttons */
			margin-top: 10px;
		}

		.edit-btn,
		.delete-btn {
			padding: 8px 16px;
			font-size: 14px;
			border-radius: 5px;
			cursor: pointer;
			transition: background-color 0.3s;
			width: auto;
			/* Let the button width adjust based on the content */
		}

		/* Edit Button Styles */
		.edit-btn {
			background-color: #FFA500;
			;
			color: white;
			border: none;
			width: 100px;
		}


		/* Delete Button Styles */
		.delete-btn {
			background-color: #FF4D4F;
			color: white;
			border: none;
			width: 100px;
		}

		.delete-btn:hover {
			background-color: #c82333;
		}
	</style>


</head>

<body class="trainers-page">

	<div th:replace="header :: header"></div>

	<main class="main">

		<!-- Page Title -->
		<div class="page-title" data-aos="fade">
			<div id="hero" class="hero section dark-background">

				<img src="assets/img/team_banner.jpg" alt="" data-aos="fade-in">
				<div class="container">

					<h2 data-aos="fade-up" data-aos-delay="100">Meet Your TeachToTech Team</h2>
					<p data-aos="fade-up" data-aos-delay="200">At TeachToTech, our teams consist of skilled trainers and
						developers who work simultaneously to provide an unparalleled learning experience. With
						expertise spanning full stack development, competitive programming, web development,
						internships, programming, cybersecurity, AI, cloud computing, and more, they bring both
						theoretical knowledge and real-world application to every session.

						Our trainers and developers are not just educators—they're mentors and practitioners, committed
						to guiding you through your learning journey and equipping you with the skills and confidence to
						excel in the tech world. Learn from the best, and let’s shape the future of technology together!
					</p>
				</div>


			</div>

			<nav class="breadcrumbs">
				<div class="container">
					<ol>
						<li><a href="/index">Home</a></li>
						<li class="current">Trainers</li>
						<li class="adminSection" style="display: none;"><a href="/api/trainer/add">Add trainer</a></li>
					</ol>
				</div>
			</nav>
		</div><!-- End Page Title -->

		<!-- Trainers Section -->
		<section id="trainers" class="section trainers">

			<div class="container">

				<div class="row gy-5">
					<div class="col-lg-4 col-md-6 member" data-aos="fade-up" data-aos-delay="200"
						th:each="trainer : ${trainers}">
						<div class="member-img">
							<img th:src=${trainer.trainerImage} class="img-fluid" alt="Trainer Image">
							<div class="social">
								<a href="#"><i class="bi bi-twitter-x"></i></a>
								<a href="#"><i class="bi bi-facebook"></i></a>
								<a href="#"><i class="bi bi-instagram"></i></a>
								<a th:href="${trainer.linkedin}"><i class="bi bi-linkedin"></i></a>
							</div>
						</div>
						<div class="member-info text-center">
							<h4 th:text="${trainer.trainerName}">Sarah Jhonson</h4>
							<span th:text="${trainer.trainerQualification}">Marketing</span>
							<p th:text="${trainer.trainerDescription}">Labore ipsam sit consequatur exercitationem rerum
								laboriosam laudantium aut quod dolores
								exercitationem ut</p>
						</div>
						<div class="admin-buttons">
							<a th:href="@{api/trainer/edit/{id}(id=${trainer.trainerId})}" class="adminSection"
								style="display: none;">
								<button class="edit-btn">Edit</button>
							</a>
							<a th:href="@{api/trainer/delete/{id}(id=${trainer.trainerId})}" class="adminSection"
								style="display: none;">
								<button class="delete-btn">Delete</button>
							</a>
<!--							<form id="delete-trainer-form" class="adminSection" style="display: none;">-->
<!--								<input type="hidden" th:name="id" th:value="${trainer.trainerId}" />-->
<!--								<button type="button" class="delete-btn">Delete</button>-->
<!--							</form>-->


						</div>

					</div><!-- End Team Member -->





				</div>

			</div>

		</section><!-- /Trainers Section -->

	</main>
	<div th:replace="footer :: footer"></div>

	<!-- Scroll Top -->
	<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
			class="bi bi-arrow-up-short"></i></a>

	<!-- Preloader -->
	<div id="preloader"></div>

	<!-- Vendor JS Files -->
	<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="assets/vendor/php-email-form/validate.js"></script>
	<script src="assets/vendor/aos/aos.js"></script>
	<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
	<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
	<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

	<!-- Main JS File -->
	<script src="assets/js/main.js"></script>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const deleteButton = document.querySelector(".delete-btn");

			deleteButton.addEventListener("click", function (event) {
				event.preventDefault(); // Prevent default form submission

				const form = document.querySelector("form.adminSection");
				const trainerId = form.querySelector("input[name='id']").value;
				const token = localStorage.getItem("token");
				console.log(token);

				if (confirm("Are you sure you want to delete this trainer?")) {
					fetch(`/api/trainer/delete/${trainerId}`, {
						method: "POST",
						headers: {
							Authorization: `Bearer ${token}` // Set token from local storage
						},
					})
						.then((response) => {
							console.log(response.status);
							if (response.ok) {
								alert("Trainer deleted successfully.");
								window.location.href = "/trainers"; // Redirect to trainers page
							} else if (response.status === 403) {
								console.log(response.body);
								alert("Access Denied: You do not have permission to delete this trainer.");
							} else if (response.status >= 400 && response.status < 500) {
								return response.json().then((error) => {
									throw new Error(error.error || "Failed to delete trainer.");
								});
							} else {
								throw new Error("Server error occurred.");
							}
						})
						.catch((error) => {
							alert("Error: " + error.message);
						});
				}
			});
		});

	</script>
</body>

</html>